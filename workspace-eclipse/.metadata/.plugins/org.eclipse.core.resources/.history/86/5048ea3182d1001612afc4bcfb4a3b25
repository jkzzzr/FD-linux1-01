package test;

import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.InputStream;

public class Readline {
	int readLineByteCount = 0;
	String path = "";
	private InputStream is=null;
	boolean eof = false;
	public Readline(String path) {
		try {
			this.path = path;
			is = new FileInputStream(path);
		} catch (FileNotFoundException e) {
			e.printStackTrace();
		}
	}
	public void setIs(InputStream is){
		this.is = is;
	}
	public int getReadLineByteCount(){
		return readLineByteCount;
	}
	public String readLine() throws IOException		{
		final StringBuilder s = new StringBuilder();
		int c = 0;
		char ch; 
		char ch2;
		readLineByteCount = 0;
		while(true)
		{
			c = is.read();
			readLineByteCount++;
			if (c == -1){
				eof = true;
				
			}
			ch = (char)c;
			if (ch == '\r'){
				c = is.read(); 
				readLineByteCount++;
				if (c== -1){
					s.append(ch);
					eof = true;
					break;
				}
				ch2 = (char)c;
				if (ch2 == '\n')
				break;
				s.append(ch); s.append(ch2);
			}
			else if (ch == '\n'){
				break;
			}
			else{
				s.append(ch);
			}
		}
		return s.toString();
		}

	public void skip(long x){
		try {
			this.is.skip(x);
		} catch (IOException e) {
			e.printStackTrace();
		}
	}

}
